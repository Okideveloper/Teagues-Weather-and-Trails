(function(t){function e(e){for(var n,o,s=e[0],l=e[1],c=e[2],d=0,m=[];d<s.length;d++)o=s[d],r[o]&&m.push(r[o][0]),r[o]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(t[n]=l[n]);u&&u(e);while(m.length)m.shift()();return i.push.apply(i,c||[]),a()}function a(){for(var t,e=0;e<i.length;e++){for(var a=i[e],n=!0,s=1;s<a.length;s++){var l=a[s];0!==r[l]&&(n=!1)}n&&(i.splice(e--,1),t=o(o.s=a[0]))}return t}var n={},r={app:0},i=[];function o(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=t,o.c=n,o.d=function(t,e,a){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)o.d(a,n,function(e){return t[e]}.bind(null,n));return a},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=e,s=s.slice();for(var c=0;c<s.length;c++)e(s[c]);var u=l;i.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"11c2":function(t,e,a){},3979:function(t,e,a){},"3a7f":function(t,e,a){"use strict";var n=a("b66e"),r=a.n(n);r.a},5319:function(t,e,a){"use strict";var n=a("3979"),r=a.n(n);r.a},"56d7":function(t,e,a){"use strict";a.r(e);a("f9e3"),a("2dd8");var n=a("5f5b"),r=a("a026"),i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},o=[],s={name:"app"},l=s,c=a("2877"),u=Object(c["a"])(l,i,o,!1,null,null,null),d=u.exports,m=a("755e"),f=a("8c4f"),p=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"d-flex justify-content-center align-items-center home-bg-img"},[a("SearchForm")],1)},h=[],v=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"d-flex justify-content-center flex-column p-5 bg-dark text-light opacity"},[t._m(0),a("div",[a("b-form",{staticClass:"d-flex flex-column justify-content-center"},[a("div",[a("b-form-input",{ref:"search",attrs:{type:"text",placeholder:"Mt. Rainer"},model:{value:t.searchQuery,callback:function(e){t.searchQuery=e},expression:"searchQuery"}})],1),t.searchQuery.length>0?a("b-button",{staticClass:"mt-3",attrs:{type:"submit",variant:"primary"},on:{click:function(e){return e.preventDefault(),t.searchSubmit(e)}}},[t._v("Search")]):t._e()],1)],1)])},g=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mb-3"},[a("h1",{staticClass:"text-center"},[t._v("Take a Hike")]),a("h4",{staticClass:"text-center"},[t._v("Enter your location")]),a("p",{staticClass:"text-center"},[t._v("Your Trail Awaits You")])])}],_={name:"SearchForm",data(){return{searchQuery:""}},methods:{searchSubmit(){this.$router.push({name:"TrailResults",params:{query:this.searchQuery}})}},mounted(){this.$refs.search.focus()}},y=_,b=(a("b861"),Object(c["a"])(y,v,g,!1,null,"abbd0d6e",null)),w=b.exports,S={name:"HomePage",components:{SearchForm:w}},x=S,O=(a("5319"),Object(c["a"])(x,p,h,!1,null,"3df7f40f",null)),L=O.exports,k=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[this.searchLocation.err?a("div",{staticClass:"row d-flex justify-content-around mt-4"},[t._m(0),a("div",{staticClass:"column"},[a("b-button",{attrs:{variant:"danger"},on:{click:t.newSearch}},[t._v("Search Again")])],1)]):a("div",[a("div",{staticClass:"row d-flex justify-content-around mt-4"},[a("div",{staticClass:"column"},[a("h1",[t._v("Search Results for "+t._s(this.searchLocation.name))])]),a("div",{staticClass:"column"},[a("b-button",{attrs:{variant:"danger"},on:{click:t.newSearch}},[t._v("Search Again")])],1)]),a("div",{staticClass:"row"},[a("GoogleMap",{attrs:{locationData:t.searchLocation,markers:t.trails}})],1),a("div",{staticClass:"row mt-5 w-100"},[a("TrailSummary",{attrs:{trailSummary:t.trails}})],1)])])},C=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"column"},[a("h1",[t._v("No Search Results Found")])])}],j=a("2f62"),M=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"d-flex justify-content-center mt-4 w-100"},[a("GmapMap",{staticClass:"map-size",attrs:{center:{lat:+this.$props.locationData.lat,lng:+this.$props.locationData.lng},zoom:10}},[a("gmap-info-window",{attrs:{position:t.infoWindowPos,opened:t.infoWindowOpen,options:t.infoOptions}},[t._v(t._s(t.infoWindowContent))]),t._l(t.markers,function(e,n){return a("GmapMarker",{key:n,attrs:{position:{lat:e.location.trailLatitude,lng:e.location.trailLongitude},clickable:!0},on:{click:function(a){return t.toggleInfoWindow(e,n)}}})})],2)],1)},T=[],R={name:"GoogleMap",props:["locationData","markers"],data(){return{infoWindowPos:null,infoWindowContent:"",infoWindowOpen:!1,currentMidx:null,infoOptions:{pixelOffset:{width:0,height:-35}}}},methods:{toggleInfoWindow(t,e){this.infoWindowPos={lat:t.location.trailLatitude,lng:t.location.trailLongitude},this.infoWindowContent=t.trailName,this.currentMidx==e?this.infoWindowOpen=!this.infoWindowOpen:(this.infoWindowOpen=!0,this.currentMidx=e)}}},E=R,$=(a("3a7f"),Object(c["a"])(E,M,T,!1,null,"0d0b7735",null)),A=$.exports,I=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t._m(0),a("div",{staticClass:"row"},[a("div",{staticClass:"column"},[a("b-card-group",{attrs:{columns:""}},t._l(t.trailSummary,function(e){return a("div",{key:e.trailId},[a("b-card",{attrs:{"img-top":"","img-fluid":"",header:e.trailName,"sub-title":e.trailSummary,"img-src":e.trailImg,"header-bg-variant":"dark","header-text-variant":"light"}},[a("p",{},[t._v("Location: "+t._s(e.trailLocation))]),a("p",{},[t._v("Length: "+t._s(e.trailLength)+" miles")]),a("p",{},[t._v("Ascent: "+t._s(e.trailAscent)+" ft")]),a("p",{},[t._v("Descent: "+t._s(e.trailDescent)+" ft")]),a("p",{},[t._v("High: "+t._s(e.trailHigh)+" ft")]),a("p",{},[t._v("Low: "+t._s(e.trailLow)+" ft")]),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("small",{staticClass:"text-muted"},[a("b-link",{attrs:{href:e.trailInfo,target:"_blank"}},[t._v("Select")])],1)])])],1)}),0)],1)])])},P=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"d-flex justify-content-center mb-5"},[a("h1",[t._v("Hikes Nearby")])])}],W={name:"TrailSummary",props:["trailSummary"]},D=W,H=Object(c["a"])(D,I,P,!1,null,null,null),N=H.exports,G={name:"TrailResults",components:{GoogleMap:A,TrailSummary:N},props:["query"],computed:{...Object(j["b"])(["searchLocation","trails"])},methods:{newSearch(){this.$router.push({name:"HomePage"})}},mounted(){this.$store.dispatch("getGeoLocation",this.query)}},Q=G,F=Object(c["a"])(Q,k,C,!1,null,"e71b138c",null),z=F.exports;r["default"].use(f["a"]);var J=new f["a"]({base:"",routes:[{path:"/",name:"HomePage",component:L},{path:"/trail-results/:query",name:"TrailResults",component:z,props:!0}]}),q=a("bc3a"),Y=a.n(q);r["default"].use(j["a"]);const Z="200202949-be5202662091a9dc38356c0c802cd058";var U=new j["a"].Store({state:{searchLocation:{name:"",lat:null,lng:null,err:null},trails:[]},mutations:{SET_LOCATION(t,e){t.searchLocation.err=null,t.searchLocation.name=e.locationName,t.searchLocation.lat=e.lat,t.searchLocation.lng=e.lng},SET_ERROR(t,e){t.searchLocation.err=e},TRAIL_SUMMARY(t,e){t.trails=e}},actions:{getGeoLocation:async({commit:t,dispatch:e},a)=>{const n=`https://maps.googleapis.com/maps/api/geocode/json?address=${a}&key=AIzaSyBJTRHctMSy0O3F-weOZKQ2JtcP648F9pA`;try{const a=await Y.a.get(n),i={locationName:a.data.results[0].address_components[0].long_name,lat:a.data.results[0].geometry.location.lat,lng:a.data.results[0].geometry.location.lng};await t("SET_LOCATION",i),await e("trailSummary",i)}catch(r){t("SET_ERROR",r)}},async trailSummary({commit:t},e){const a=[],n=await Y.a.get("https://www.hikingproject.com/data/get-trails",{params:{key:Z,lat:e.lat,lon:e.lng,maxDistance:300,maxResults:50}});n.data.trails.map(t=>{a.push({trailName:t.name,trailSummary:t.summary,trailLocation:t.location,trailLength:t.length,trailAscent:t.ascent,trailDescent:t.descent,trailHigh:t.high,trailLow:t.low,trailImg:t.imgMedium,trailInfo:t.url,trailId:t.id,location:{trailLongitude:t.longitude,trailLatitude:t.latitude}})}),t("TRAIL_SUMMARY",a)}}});r["default"].config.productionTip=!1,r["default"].use(n["a"]),r["default"].use(m,{load:{key:"AIzaSyDzlyMo5jrt6ZMx_oJStHMh8G7xktZkmkE"}}),new r["default"]({router:J,store:U,render:t=>t(d)}).$mount("#app")},b66e:function(t,e,a){},b861:function(t,e,a){"use strict";var n=a("11c2"),r=a.n(n);r.a}});
//# sourceMappingURL=app.fc639499.js.map