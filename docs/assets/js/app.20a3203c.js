(function(t){function e(e){for(var n,i,s=e[0],l=e[1],c=e[2],m=0,d=[];m<s.length;m++)i=s[m],r[i]&&d.push(r[i][0]),r[i]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(t[n]=l[n]);u&&u(e);while(d.length)d.shift()();return o.push.apply(o,c||[]),a()}function a(){for(var t,e=0;e<o.length;e++){for(var a=o[e],n=!0,s=1;s<a.length;s++){var l=a[s];0!==r[l]&&(n=!1)}n&&(o.splice(e--,1),t=i(i.s=a[0]))}return t}var n={},r={app:0},o=[];function i(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=t,i.c=n,i.d=function(t,e,a){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(a,n,function(e){return t[e]}.bind(null,n));return a},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=e,s=s.slice();for(var c=0;c<s.length;c++)e(s[c]);var u=l;o.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},3979:function(t,e,a){},4032:function(t,e,a){"use strict";var n=a("f886"),r=a.n(n);r.a},5319:function(t,e,a){"use strict";var n=a("3979"),r=a.n(n);r.a},"56d7":function(t,e,a){"use strict";a.r(e);a("f9e3"),a("2dd8");var n=a("9f7b"),r=a("a026"),o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("router-view")],1)},i=[],s=a("2877"),l={},c=Object(s["a"])(l,o,i,!1,null,null,null),u=c.exports,m=a("755e"),d=a("8c4f"),f=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"d-flex justify-content-center align-items-center home-bg-img"},[a("SearchForm")],1)},h=[],p=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"d-flex justify-content-center flex-column p-5 bg-dark text-light opacity"},[t._m(0),a("div",[a("b-form",{staticClass:"d-flex flex-column justify-content-center"},[a("b-form-input",{ref:"search",attrs:{type:"text",placeholder:"Mt. Rainer"},model:{value:t.searchQuery,callback:function(e){t.searchQuery=e},expression:"searchQuery"}}),t.searchQuery.length>0?a("b-button",{staticClass:"mt-3",attrs:{type:"submit",variant:"primary"},on:{click:function(e){return e.preventDefault(),t.searchSubmit(e)}}},[t._v("Search")]):t._e()],1)],1)])},g=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mb-3"},[a("h1",{staticClass:"text-center"},[t._v("Hike Guide")]),a("h3",{staticClass:"text-center"},[t._v("Enter your City")]),a("p",{staticClass:"text-center"},[t._v("Your Trail awaits")])])}],v={name:"SearchForm",data(){return{searchQuery:""}},methods:{searchSubmit(){this.$router.push({name:"TrailResults",key:"T200473179-8a8d07c08addd2f6d7b0c598f9b478b5",params:{query:this.searchQuery}})}},mounted(){this.$refs.search.focus()}},y=v,_=(a("4032"),Object(s["a"])(y,p,g,!1,null,"25bd23ba",null)),b=_.exports,w={name:"HomePage",components:{SearchForm:b}},S=w,x=(a("5319"),Object(s["a"])(S,f,h,!1,null,"3df7f40f",null)),k=x.exports,L=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[this.searchLocation.err?a("div",{staticClass:"row d-flex justify-content-between mt-4"},[t._m(0),a("div",{staticClass:"column"},[a("b-button",{attrs:{variant:"danger"},on:{click:t.newSearch}},[t._v("Search Again")])],1)]):a("div",[a("div",{staticClass:"row d-flex justify-content-between mt-4"},[a("div",{staticClass:"column"},[a("h1",[t._v("Search Results for "+t._s(this.searchLocation.name))])]),a("div",{staticClass:"column"},[a("b-button",{attrs:{variant:"danger"},on:{click:t.newSearch}},[t._v("Search Again")])],1)]),a("div",{staticClass:"row"},[a("GoogleMap",{attrs:{locationData:t.searchLocation,markers:t.trails}})],1),a("div",{staticClass:"row mt-5 w-100"},[a("TrailSummary",{attrs:{trailSummary:t.trails}})],1)])])},O=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"column"},[a("h1",[t._v("No Search Results Found")])])}],C=a("2f62"),M=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"d-flex justify-content-start mt-4 w-100"},[a("GmapMap",{staticClass:"map-size",attrs:{center:{lat:+this.$props.locationData.lat,lng:+this.$props.locationData.lng},zoom:10}},[a("gmap-info-window",{attrs:{position:t.infoWindowPos,opened:t.infoWindowOpen,options:t.infoOptions}},[t._v(t._s(t.infoWindowContent))]),t._l(t.markers,function(e,n){return a("GmapMarker",{key:n,attrs:{position:{lat:e.location.trailLatitude,lng:e.location.trailLongitude},clickable:!0},on:{click:function(a){return t.toggleInfoWindow(e,n)}}})})],2)],1)},j=[],T={name:"GoogleMap",props:["locationData","markers"],data(){return{infoWindowPos:null,infoWindowContent:"",infoWindowOpen:!1,currentMidx:null,infoOptions:{pixelOffset:{width:0,height:-35}}}},methods:{toggleInfoWindow(t,e){this.infoWindowPos={lat:t.location.trailLatitude,lng:t.location.trailLongitude},this.infoWindowContent=t.trailName,this.currentMidx==e?this.infoWindowOpen=!this.infoWindowOpen:(this.infoWindowOpen=!0,this.currentMidx=e)}}},E=T,$=(a("657b"),Object(s["a"])(E,M,j,!1,null,"31bd863e",null)),R=$.exports,I=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t._m(0),a("div",{staticClass:"row"},[a("div",{staticClass:"column"},[a("b-card-group",{attrs:{columns:""}},t._l(t.trailSummary,function(e){return a("div",{key:e.trailId},[a("b-card",{attrs:{"img-top":"","img-fluid":"",header:e.trailName,"sub-title":e.trailSummary,"img-src":e.trailImg,"header-bg-variant":"dark","header-text-variant":"light"}},[a("p",{},[t._v("Location: "+t._s(e.trailLocation))]),a("p",{},[t._v("Length: "+t._s(e.trailLength)+" miles")]),a("p",{},[t._v("Ascent: "+t._s(e.trailAscent)+" ft")]),a("p",{},[t._v("Descent: "+t._s(e.trailDescent)+" ft")]),a("p",{},[t._v("High: "+t._s(e.trailHigh)+" ft")]),a("p",{},[t._v("Low: "+t._s(e.trailLow)+" ft")]),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("small",{staticClass:"text-muted"},[a("b-link",{attrs:{href:e.trailInfo,target:"_blank"}},[t._v("More Information")])],1)])])],1)}),0)],1)])])},A=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row mb-5"},[a("h1",[t._v("Hikes Nearby")])])}],W={name:"TrailSummary",props:["trailSummary"]},G=W,P=Object(s["a"])(G,I,A,!1,null,null,null),D=P.exports,H={name:"TrailResults",components:{GoogleMap:R,TrailSummary:D},props:["query"],computed:{...Object(C["b"])(["searchLocation","trails"])},methods:{newSearch(){this.$router.push({name:"HomePage"})}},mounted(){this.$store.dispatch("getGeoLocation",this.query)}},N=H,q=Object(s["a"])(N,L,O,!1,null,null,null);q.exports;r["default"].use(d["a"]);var z=new d["a"]({routes:[{path:"/",name:"HomePage",component:k},{path:"/google-map/:query",name:"GoogleMap",component:GoogleMap},{path:"/search-form/:query",name:"SearchForm",component:SearchForm},{path:"/trail-summary/:query",name:"TrailSummary",component:TrailSummary}]}),F=a("bc3a"),Q=a.n(F);r["default"].use(C["a"]);var J=new C["a"].Store({state:{searchLocation:{name:"",lat:null,lng:null,err:null},mutations:{SET_LOCATION(t,e){t.searchLocation.err=null,t.searchLocation.name=e.locationName,t.searchLocation.lat=e.lat,t.searchLocation.lng=e.lng},SET_ERROR(t,e){t.searchLocation.err=e},TRAIL_SUMMARY(t,e){t.trails=e}},actions:{getGeoLocation({commit:t,dispatch:e},a){const n=`https://maps.googleapis.com/maps/api/geocode/json?address=${a}&key=${AIzaSyDzlyMo5jrt6ZMx_oJStHMh8G7xktZkmkE}`;Q.a.get(n).then(e=>{const a={locationName:e.data.results[0].address_components[0].long_name,lat:e.data.results[0].geometry.location.lat,lng:e.data.results[0].geometry.location.lng};return t("SET_LOCATION",a),a}).then(t=>{e("TrailSummary",t)}).catch(e=>{t("SET_ERROR",e)})},trailSummary({commit:t},e){Q.a.get("https://www.hikingproject.com/data/get-trails",{params:{key:"T200473179-8a8d07c08addd2f6d7b0c598f9b478b5",lat:e.lat,lon:e.lng,maxDistance:10,maxResults:50}}).then(e=>{const a=[];e.data.trails.map(t=>{return a.push({trailName:t.name,trailSummary:t.summary,trailLocation:t.location,trailLength:t.length,trailAscent:t.ascent,trailDescent:t.descent,trailHigh:t.high,trailLow:t.low,trailImg:t.imgMedium,trailInfo:t.url,trailId:t.id,location:{trailLongitude:t.longitude,trailLatitude:t.latitude}}),a}),t("TRAIL_SUMMARY",a)})}}}});r["default"].config.productionTip=!1,r["default"].use(n["a"]),r["default"].use(m,{load:{key:"AIzaSyDzlyMo5jrt6ZMx_oJStHMh8G7xktZkmkE"}}),new r["default"]({router:z,store:J,render:t=>t(u)}).$mount("#app")},"657b":function(t,e,a){"use strict";var n=a("9444"),r=a.n(n);r.a},9444:function(t,e,a){},f886:function(t,e,a){}});
//# sourceMappingURL=app.20a3203c.js.map